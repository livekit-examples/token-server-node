## Overview

In order for client apps to connect to LiveKit rooms, they need to present an [Access Token](https://docs.livekit.io/home/get-started/authentication/) with the appropriate permission grants. For web applications, the process of generating tokens can often be easily incorporated into your existing web server. For other targets like mobile and desktop applications, you will need a server with an endpoint to generate these tokens.

This template implements a minimal token server using Node.js, TypeScript, Express, and the [LiveKit Server SDK](https://github.com/livekit/node-sdks/tree/main/packages/livekit-server-sdk).

## Sandbox

When running this token server as a sandbox app, LiveKit hosts a public endpoint you can use to generate tokens. To generate a token, simply make a `POST` request to `https://cloud-api.livekit.io/api/sandbox/connection-details` with the following request format:

| **Request format** |                              |                                |
| ------------------ | ---------------------------- | ------------------------------ |
| Method             | `POST`                       |                                |
| URL                | `https://cloud-api.livekit.io/api/sandbox/connection-details` |
| Query Parameters   | `roomName` (optional)        | (your room name)               |
|                    | `participantName` (optional) | (your participant name)        |
| Headers            | `X-Sandbox-ID`               | (your Sandbox ID)              |

Generated tokens will have a default TTL of 15 minutes. Optional parameters not included in the request will be generated by the token server.

## Installation

To use this template locally, clone the repo or use the LiveKit CLI:

```console
lk app create --template token-server-node my-server
```

You can also bootstrap a minimal token server yourself with the following code:

```ts
import express from 'express';
import { AccessToken } from 'livekit-server-sdk';

async function createToken({ roomName, participantName }) {
  const at = new AccessToken('my-key', 'my-secret', {
    identity: participantName,
    ttl: '10m',
  });
  at.addGrant({ roomJoin: true, room: roomName });
  return await at.toJwt();
}

const app = express();
const port = 3000;

app.post('/token', async (req, res) => {
  const { roomName = 'demo-room', participantName = 'demo-user' } = req.body || {};
  const token = await createToken({ roomName, participantName });
  res.send(token);
});

app.listen(port, () => {
  console.log(`Server listening on port ${port}`);
});
```

For more information on tokens, see our documentation on [generating tokens](https://docs.livekit.io/home/server/generating-tokens/).

